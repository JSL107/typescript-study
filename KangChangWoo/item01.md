# Item01

## 타입스크립트와 자바스크립트 관계 이해하기.

*요약*

- 타입스크립트는 자바스크립트의 상위집합이다. 다시 말해, 모든 자바스크립트 프로그램은 이미 타입스크립트 프로그램이다. 그러나, 반대는 성립하지 않는다.
- 타입스크립트는 자바스크립트 런타임 동작을 모델링하는 타입 시스템을 가지고 있기 때문에 런타임 오류를 발생시키는 코드를 찾아내려고 한다. 그러나 모든 오류를 찾아내리라 기대하면 안된다. 타입 체커를 통과하면서도 런타임 오류를 발생시키는 코드는 충분히 존재할 수 있다.
- 타입스크립트 타입 시스템은 전반적으로 자바스크립트 동작을 모델링한다. 그러나 잘못된 매개변수 개수로 함수 호출하는 경우처럼, 자바스크립트에서는 허용되지만 타입스크립트에서는 문제가 되는 경우도 있습니다. 이러한 문법의 엄격함은 온전히 취향의 차이이며 우열을 가릴 수 없는 문제이다.

---

### 타입스크립트는 문법적으로 자바스크립트의 상위집합(Supersert)이다.

- 자바스크립트 프로그램에 문법 오류가 없다면, 유효한 타입스크립트 프로그램.
- 그러나 JS 프로그램에 어떤 이슈가 존재할 경우 문법 오류가 아니더라도 타입 체커에 지적을 당할 수 있다.
- But, 유효성과 동작의 이슈는 별개의 문제(독립)이다. 타입 문제가 있더라도 여전히 JS로 변환될 수 있다.

### 모든 자바스크립트 프로그램은 타입스크립트이지만, 반대는 아니다.

- main.js 파일을 그대로 타입스크립트로 마이그레이션할 수 있다.
- 타입스크립트는 JS에 더해, 추가적인 자체 문법을 갖는다. (:string과 같은 타입 명시)
- 즉, TS는 JS의 상위 집합이다.

### 타입 추론으로 유용한 프로그래밍이 가능하다.

```jsx
let city = "new york city";
console.log(city.toUppercase());

// TypeError : city.toUppercase is not a function
// 'toUppercase' 속성이 'string' 형식에 없습니다.
// 'toUpperCase' 을(를) 사용하시겠습니까?

```

- city 변수가 문자열이라는 것을 알려주지 않아도, TS 스스로 타입을 추론.
- 이는 일반 자바스크립트 프로그램에서도 유용하게 동작할 수 있다.
- '정적' 타입 시스템으로 불리는 이유.

### 모든 타입 오류를 찾아내는 것은 아니며, 의도와 다르게 동작할 수 있다.

```jsx
const states = [
  { name: "Alabama", capitol: "Montgomery" },
  { name: "Alaska", capitol: "Juneau" },
  { name: "Arizona", capitol: "Phoenix" },
  // ...
];

for (const state of states) {
  console.log(state.capital);
}
// undefined
// undefined
// undefined
```

- 앞의 코드는 유효한 JS 코드이며 오류없이 실행된다.
- TS 타입 체커는 추가적인 타입 구문 없이도 오류를 찾아낸다.

```jsx
for (const state of states) {
  console.log(state.capital);
  // ~~ 'capital' 속성이 ... 형식에 없습니다.
  // ~~ 'capatol' 속성을 사용하시겠습니까?
}

```

- 타입 구문 없이도 오류를 찾을 수 있지만, 타입 구문을 추가한다면 더 많은 오류를 찾아낼 수 있다.
- **타입 구문으로 코드 작성의 '의도'를 알려주는 것.**
- 이 경우 명시적으로 states를 선언해 의도를 확실히 전달하는 것이 좋다.

```jsx
interface State {
	name: string;
	capital: string;
}

const states: State[] = [
	{ name: "Alabama", capitol: "Montgomery" },
  { name: "Alaska", capitol: "Juneau" },
  { name: "Arizona", capitol: "Phoenix" },
  // ...
  // ~~~~~~ 개체 리터럴은 알려진 속성만 지정할 수 있지만 'State' 형식에 'capitol'이(가) 없습니다.
  // ~~~~~~ 'capital'을(를) 쓰려고 했습니까?
];
for (const state of states) {
	console.log(state.capital);
}
```

```
         ┌────────────────────────────────────┐
         │        타입스크립트 프로그램             │
         │  ┌──────────────┐  ┌─────────────┐ │
         │  │ 자바스크립트     │∩│  타입체크 통과  │ │
         │  │   프로그램      │ │  TS 프로그램   │ │
         │  └──────────────┘  └─────────────┘ │
         └────────────────────────────────────┘
```

- 모든 자바스크립트는 타입스크립트이지만, 일부 자바스크립트만이 타입 체크를 통과한다.

### 타입 시스템은 자바스크립트의 런타임 동작을 모델링한다.

```jsx
const x = 2 + '3'; // 정상, string 타입입니다.
const y = '2' + 3; // 정상, string 타입입니다.
```

- 타입 체크는 이를 정상으로 인식한다. “23”이 되는 JS 런타임 동작으로 모델링된다. (런타임 정상 동작)

```jsx
const a = null + 7; // 자바스크립트에서는 a값이 7이 됩니다.
	// '+' 연산자를 ... 형식에 적용할 수 없습니다.
const b = [] + 12; // 자바스크립트에서는 b값이 '12'가 됩니다.
	// '+' 연산자를 ... 형식에 적용할 수 없습니다.
alert('Hello', 'TypeScript'); // 'Hello' 경고를 표시합니다.
	// 0-1 개의 인수가 필요한데 2개를 가져왔습니다.
```

- JS의 런타임 동작을 모델링하는 것은 TS 타입 시스템이 기본 원칙이다. 그러나, 의도치 않은 이상한 코드가 오류로 이어질 수 있음을 고려해야 한다.
- **이처럼 null과 7을 더하거나, []과 12를 더하거나, 불필요한 매개변수를 추가해서 함수 호출하는 것을 당연하게 여긴다면, 차라리 타입스크립트를 쓰지 않는게 더 낫다.**

### 타입 시스템은 정적 타입의 정확성을 보장하지 않는다.

- 타입 시스템이 이해하는 값의 타입과 실제 값의 차이가 있을 경우 오류가 발생한다.
- TS는 타입의 정확성을 보장하기 위한 언어가 아니다.
- 정확성 보장을 위해선 Reason이나 Elm 같은 언어를 선택하는 것이 대안.
